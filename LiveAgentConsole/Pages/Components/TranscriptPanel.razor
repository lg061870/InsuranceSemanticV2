@* Displays chat / transcript history (bot + user) *@
<div class="flex-1 overflow-y-auto p-4 bg-white" id="transcript-container">
    @if (Messages == null || !Messages.Any()) {
        <div class="text-center text-sm text-gray-400">No messages yet</div>
    }
    else {
        <div class="space-y-4">
            @foreach (var msg in Messages) {
                if (msg.IsBot) {
                    <div class="flex gap-3 mb-4">
                        <div class="w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary flex-shrink-0">
                            <i class="fa-solid fa-robot text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <div class="bg-gray-50 rounded-2xl rounded-tl-none p-3 text-sm text-gray-700 border border-gray-100">
                                @msg.Content
                            </div>
                            <div class="text-[10px] text-gray-400 mt-1">@msg.Timestamp.ToString("HH:mm")</div>
                        </div>
                    </div>
                }
                else {
                    <div class="flex gap-3 mb-4 flex-row-reverse">
                        <img src="@msg.AvatarUrl"
                             class="w-8 h-8 rounded-full object-cover flex-shrink-0"
                             alt="User avatar" />
                        <div class="flex-1">
                            <div class="bg-blue-50 rounded-2xl rounded-tr-none p-3 text-sm text-gray-800 border border-blue-100">
                                @msg.Content
                            </div>
                            <div class="text-[10px] text-gray-400 mt-1 text-right">@msg.Timestamp.ToString("HH:mm")</div>
                        </div>
                    </div>
                }
            }
        </div>
    }
</div>

@code {
    // Simple model — you can expand as needed
    public class ChatMessage {
        public bool IsBot { get; set; }
        public string Content { get; set; } = string.Empty;
        public DateTime Timestamp { get; set; } = DateTime.Now;
        public string? AvatarUrl { get; set; }
    }

    [Parameter]
    public List<ChatMessage>? Messages { get; set; }
}
